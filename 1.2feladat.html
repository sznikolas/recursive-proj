<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Mgr munka</title>
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
    <link rel="stylesheet" href="styles/osszes.css">

</head>
<body>

    <div class="bigContainer">
        <div class="box02">

<h1>Huszárvándorlás probléma - The Knights tour problem</h1>

<div class="smallContainer"><p><br> 
    <b>Feladat leírása:</b> A huszárvándorlás-probléma, huszárkörút vagy sakktábla bejárása huszárral egy huszár lépéssorozata a sakktáblán, 
    amely alatt a huszár a tábla minden mezőjét pontosan <b>egyszer</b> érinti. Ha az utolsó mező megegyezik a kiinduló mezővel, a körút zárt, másképp a körút nyitott.
    <br>A sakktábla bejárása huszárral matematikai probléma. Olyan algoritmus létrehozása, mely megkeresi ezt a bejárást, ismert számítástechnikai feladat. 
    A huszárkörút problémája különböző méretű sakktáblákon fennáll, nemcsak a 8×8-ason, sőt a szabálytalan (nem téglalap) alakú táblákon is. Ez a probléma több különböző algoritmussal is megoldható, mi backtracking-et használtuk, 
    ami egy brute-force alapú algoritmus.
    <br><br>
    Az alábbiakban találunk egy 3x3-as táblát, amiben nincs huszárkörút, viszont bemutatjuk a lépéseket és a BACKTRACKING-et a könnyebb megértés érdekében. 
    Kisebb táblán könnyebben megérthető az algoritmus működése a backtracking és a rekurzió. Nagyobb táblán a backtracking miatt sokkal tovább tartana, azonban az algoritmus ezen is ugyanúgy keresi a huszárkörutat.<br>
    A második animáció egy 5x5-ös sakktábla, amin egy nyitott körútú bejárást szemléltetünk BACKTRACKING nélkül, melyhez C nyelvben írt forráskódot is találunk. 
    Egy 5x5-ös táblán, a megoldások száma 1728 féleképpen lehetséges, mi ezek közül az egyiket szemléltettük. </p>
     <br>
</div>

<div class="smallContainer">
    <button onclick="location.href='index.html'" type="button" class="example_b">feladatok</button>
    
    
    <div class="container3">
        <!-- Button trigger modal -->
    <button type="button" class="example_b"  data-toggle="modal" data-target="#exampleModalScrollable">
        C kód</button>
 <!-- Modal -->
 <div class="modal fade" id="exampleModalScrollable" tabindex="-1" role="dialog" aria-labelledby="exampleModalScrollableTitle" aria-hidden="true">
    <div class="modal-dialog modal-dialog-scrollable modal-lg" role="document">
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title" id="exampleModalScrollableTitle">Huszárvándorlás probléma megoldása C nyelvben</h5>
          <button type="button" class="close" data-dismiss="modal" aria-label="Close">
            <span aria-hidden="true">&times;</span>
          </button>
        </div>
        <div class="modal-body">
            <pre class="line-numbers">
                <code class="language-clike">
//<b>C program a Huszárvándorlás problémára</b>
#include &lt;stdio.h&gt;
#define N 8
 
int solveKTUtil(int x, int y, int movei, int sol[N][N],
                int xMove[], int yMove[]);
 
/*<b> Segédfüggvény annak ellenőrzésére, hogy i,j érvényes indexek-e az N*N sakktáblához</b> */
int isSafe(int x, int y, int sol[N][N])
{
    return (x &gt;= 0 &amp;&amp; x &lt; N &amp;&amp; y &gt;= 0 &amp;&amp; y &lt; N
            &amp;&amp; sol[x][y] == -1);
}
 
/*<b> Segédfüggvény a sol[N][N] megoldási mátrix kiírására.</b> */
void printSolution(int sol[N][N])
{
    for (int x = 0; x &lt; N; x++) {
        for (int y = 0; y &lt; N; y++)
            printf(" %2d ", sol[x][y]);
        printf("\n");
    }
}
 
/* <b>Ez a funkció a Huszárvándorlás problémát oldja meg Backtracking segítségével. 
Ez a függvény elsősorban a solveKTUtil() segítségével oldja meg a problémát. 
Hamis értéket ad vissza, ha nincs lehetőség teljes túrára, ellenkező esetben igazat ad vissza,
és kiírja a túrát. Felhívjuk a figyelmet arra, hogy több megoldás is létezhet, 
ez a függvény csak az egyik megvalósítható megoldást írja ki. </b> */
int solveKT()
{
    int sol[N][N];
 
    /* <b>A megoldási mátrix inicializálása</b>> */
    for (int x = 0; x &lt; N; x++)
        for (int y = 0; y &lt; N; y++)
            sol[x][y] = -1;
 
    /* <b>xMove[] és yMove[] határozza meg a lovag következő lépését.
        xMove[] az x koordináta következő értékére vonatkozik.
        yMove[] az y koordináta következő értékére vonatkozik.</b>>*/
    int xMove[8] = { 2, 1, -1, -2, -2, -1, 1, 2 };
    int yMove[8] = { 1, 2, 2, 1, -1, -2, -2, -1 };
 
    // <b>A lovag kezdetben az első blokkban van.</b>>
    sol[0][0] = 0;
 
    /* <b>Kezdjük 0,0-ról és fedezzük fel az összes túrát a következővel
        solveKTUtil() </b> */
    if (solveKTUtil(0, 0, 1, sol, xMove, yMove) == 0) {
        printf("Megoldás nem létezik");
        return 0;
    }
    else
        printSolution(sol);
 
    return 1;
}
 
/* <b>Rekurzív segédfüggvény a Huszárvándorlás probléma megoldására </b>>*/
int solveKTUtil(int x, int y, int movei, int sol[N][N],
                int xMove[N], int yMove[N])
{
    int k, next_x, next_y;
    if (movei == N * N)
        return 1;
 
    /* <b>Próbálja ki az összes következő mozdulatot az aktuális koordinátától x, y</b>
     */
    for (k = 0; k &lt; 8; k++) {
        next_x = x + xMove[k];
        next_y = y + yMove[k];
        if (isSafe(next_x, next_y, sol)) {
            sol[next_x][next_y] = movei;
            if (solveKTUtil(next_x, next_y, movei + 1, sol,
                            xMove, yMove)
                == 1)
                return 1;
            else
                sol[next_x][next_y] = -1; // <b>BACKTRACKING - VISSZAKÖVETÉS</b>
        }
    }
    return 0;
}

int main()
{  
    // <b>Függvényhívás</b>
    solveKT();
    return 0;
}
<br>
<a href="https://www.geeksforgeeks.org/the-knights-tour-problem-backtracking-1/" target="_blank">Forrás</a> </p>
                </code>
             </pre>
            </div>
      </div>
    </div>
  </div>  
</div>
        
<div class="mellett">
            <div class="container3">
            <output id="proba1">3x3 backtrackinggel szemléltetve</output>
            </div>          
        </div>


<div class="mellett">
        <div class="container3">
        <canvas id="canvas1_3" style="background: url(images/chessBoard2.png)"></canvas>
        </div>

        
    </div>

    <!-- <div class="container3"></div> -->

         <output class="lepesek" style="display: block; width:100%; height:30px; text-align:center;"> 
            <label id="label1" class="lepesekLeirasa">lépés 1 nem lehetséges, próbáljuk a következőt</label></output> 
        
        
    
        <div class="container3">
            <div id="buttons">
        <input id="stepFrwd" type="submit" class="example_b" name="button" value="előrelépés"/>
        <!-- <input id="stepPrev" type="submit" class="example_b" name="button" value="visszalépés"/> -->
        <input id="startAnim" type="submit" class="example_b" name="button" value="start"/>
        <input id="resetAnim" type="submit" class="example_b" name="button" value="reset"/>
        <div class="example_b">
            <input type="range" min="1" max="10" value="3" class="slider" id="myRange">
          </div>
        </div>
        </div>       
    
            <ul>  
            <li>Minden pozícióban kipróbáljuk a lehetséges lépéseket, hogy találjunk egy érvényeset.</li>
            <li>Ha találunk érvényes lépést, akkor a huszárt arra a pozícióra visszük.</li>
            <li>Ha nem találunk ilyen érvényes lépést, akkor BACKTRACK, és megpróbálunk más érvényes lépést találni azok közül, amit még nem próbáltunk a 8 lépés közül.</li>
            <li>PL.: Ha 1,2,3,4 lépést próbáltuk, akkor 5,6,7,8 közül próbálunk keresni.</li>
            </ul> 
        <br>
        
    

<!--     <div class="container3">
        <output id="proba1">5x5 backtracking megjelenítés nélkül</output>    
        </div>

    <div class="container3">
        <canvas id="canvas1_4" style="background: url(images/chessBoard.png)"></canvas>
    </div>
    
    <div class="container3">
        <div id="buttons">
        <input id="stepFrwd2" type="submit" class="example_b" name="button" value="előrelépés"/>
        <input id="stepPrev2" type="submit" class="example_b" name="button" value="visszalépés"/>
        <input id="startAnim2" type="submit" class="example_b" name="button" value="start"/>
        <input id="resetAnim2" type="submit" class="example_b" name="button" value="reset"/>
        <div class="example_b">
            <input type="range" min="1" max="10" value="3" class="slider" id="myRange2">
          
        </div>
    </div>
</div> -->


            </div><!-- smallcontainer -->
            
    
        <div class="smallContainer"><br>
            <details>
                <summary>
    <b>Az algoritmus leírása:</b><br><br>
                </summary>
                <p>
        Ha minden négyzetet meglátogattunk, akkor írjuk ki a megoldást
        <br>Máskülönben(else)
        <br><br>a) Adjuk hozzá a következő lépések egyikét a megoldási vektorhoz, és rekurzívan ellenőrizzük, hogy ez a lépés megoldáshoz vezet-e. (Egy huszár legfeljebb nyolc irányba tehet lépést. Ebben a lépésben a 8 lépés közül választunk egyet).
        
        <br><br>b) Ha a fenti lépésben kiválasztott lépés nem vezet megoldáshoz, akkor távolítsuk el ezt a lépést a megoldási vektorból, és próbálkozzunk más alternatív lépésekkel.
        
        <br><br>c) Ha egyik alternatíva sem működik, akkor adjuk vissza a false-t (A false visszaadása eltávolítja a rekurzióban korábban hozzáadott elemet, és ha a rekurzió kezdeti hívása false-t ad vissza, akkor "nincs megoldás").<br><br>
        x -> oszlop<br>
        y -> sor
                </p>

                <div class="container3">
                    <img src="images/KnightLepesek2.png">
                </div> <br>
    </details>
        </div>

<!-- 5x5 megjelenites nelkul  -->
        <div class="smallContainer"><br>
            <details>
                <summary>
    <b>5x5 backtracking megjelenítés nélkül</b><br><br>
                </summary>
                <p>
                    <div class="container3">
                        <output id="proba1">5x5 backtracking megjelenítés nélkül</output>    
                        </div>
                
                    <div class="container3">
                        <canvas id="canvas1_4" style="background: url(images/chessBoard.png)"></canvas>
                    </div>
                    
                    <div class="container3">
                        <div id="buttons">
                        <input id="stepFrwd2" type="submit" class="example_b" name="button" value="előrelépés"/>
                        <!-- <input id="stepPrev2" type="submit" class="example_b" name="button" value="visszalépés"/> -->
                        <input id="startAnim2" type="submit" class="example_b" name="button" value="start"/>
                        <input id="resetAnim2" type="submit" class="example_b" name="button" value="reset"/>
                        <div class="example_b">
                            <input type="range" min="1" max="10" value="3" class="slider" id="myRange2">
                          
                        </div>
                    </div>
                </div>
    </details>
        </div>
  

        </div><!-- smallcontainer -->
    </div> <!-- box02 -->
</div> <!-- bigcointainer -->



        
    <script src="javaScript/1.2feladat.js"></script>
    

    <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js" integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js" integrity="sha384-UO2eT0CpHqdSJQ6hJty5KVphtPhzWj9WO1clHTMGa3JDZwrnQq4sF86dIHNDz0W1" crossorigin="anonymous"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js" integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM" crossorigin="anonymous"></script>

</body>
</html>