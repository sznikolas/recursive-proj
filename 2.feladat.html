<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Mgr munka</title>
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
    <link rel="stylesheet" href="styles/osszes.css">


</head>
<body>
    <div class="bigContainer">
 
        <div class="box02">
    
    <h1>N királynő probléma - N Queen Problem</h1><br>
    <div class="smallContainer"><br>
    <p><b>Feladat leírása:</b> A nyolckirálynő-probléma egy sakkfeladvány, lényege a következő: hogyan illetve hányféleképpen lehet 8 királynőt (vezért) 
    úgy elhelyezni egy 8×8-as sakktáblán, hogy a sakk szabályai szerint ne üssék egymást. 
    Ehhez a királynő/vezér lépési lehetőségeinek ismeretében az kell, hogy ne legyen két bábu azonos sorban, oszlopban vagy átlóban.
    <br>A nyolckirálynő-probléma egy példa az ennél általánosabb „n királynő problémára”, ami azt a kérdést veti fel, hányféleképpen 
    lehet lerakni n darab királynőt egy n×n-es táblán.</p>
    <br>
</div>

    <div class="smallContainer"><p><br>
    <b>A kód magyarázata</b><br><br>
<b>is_attack(int i,int j)</b> → Ez egy olyan függvény, amely ellenőrzi, hogy az (i,j) cellát megtámadta-e valamelyik másik dáma vagy sem. 
Csak azt ellenőrizzük, hogy az 'i' sorban vagy a 'j' oszlopban van-e másik királynő. Ezután azt ellenőrizzük, hogy van-e az (i,j) cella átlós 
celláin bármilyen királynő vagy sem. Bármelyik (k,l) cella átlós lesz az (i,j) cellához képest, ha k+l egyenlő i+j-vel vagy k-l egyenlő i-j-vel.<br><br>

<b>N_queen</b> → Ez az a függvény, ahol valójában a backtracking algoritmust valósítjuk meg.<br><br>

<b>if(n==0)</b> → Ha nem maradt királynő, akkor ez azt jelenti, hogy az összes királynőt elhelyeztük, és megvan a megoldás.<br><br>

<b>if(((!is_attack(i,j)) && (board[i][j]!=1))</b> → Csak azt ellenőrizzük, hogy a cellában van-e lehetőség királynő elhelyezésére vagy sem. 
Az is_attack függvény ellenőrzi, hogy a cellát nem támadja-e más királynő, és a board[i][j]!=1 biztosítja, hogy a cellában nincs királynő. 
Ha ezek a feltételek teljesülnek, akkor királynőt tehetünk a cellába - board[i][j] = 1.<br><br>

<b>if(N_queen(n-1)==1)</b> → Most újra meghívjuk a függvényt, hogy elhelyezzük a maradék királynőket, és itt végezzük a visszalépést. 
Ha ez a függvény (a maradék királynő elhelyezésére) nem igaz, akkor csak az aktuális lépésünket változtatjuk meg - board[i][j] = 0 és a ciklus 
ezúttal a királynőt valamilyen más pozícióba helyezi.</p>
<br>
</div>

    <button onclick="location.href='index.html'" type="button" class="example_b" >feladatok</button>
    
<!-- Button trigger modal -->

<button type="button" class="example_b"  data-toggle="modal" data-target="#exampleModalScrollable">
    C kód</button>
  
  <!-- Modal -->
  <div class="modal fade" id="exampleModalScrollable" tabindex="-1" role="dialog" aria-labelledby="exampleModalScrollableTitle" aria-hidden="true">
    <div class="modal-dialog modal-dialog-scrollable modal-lg" role="document">
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title" id="exampleModalScrollableTitle">N királynő probléma megoldása C nyelvben</h5>
          <button type="button" class="close" data-dismiss="modal" aria-label="Close">
            <span aria-hidden="true">&times;</span>
          </button>
        </div>
        <div class="modal-body">
            <pre class="line-numbers">
                <code class="language-clike">
<b>// C program az N királynő problémára</b>

#include &lt;stdio.h&gt;

<b>//A királynők száma</b>
int N;

<b>//Sakktábla</b>
int board[100][100];

<b>//Funkció annak ellenőrzésére, hogy a cellát megtámadták-e vagy sem</b>
int is_attack(int i,int j)
{
    int k,l;
    <b>//Ellenőrzés, hogy van-e királynő a sorban vagy oszlopban</b>
    for(k=0;k&lt;N;k++)
    {
        if((board[i][k] == 1) || (board[k][j] == 1))
            return 1;
    }
    <b>//Átlók ellenőrzése</b>
    for(k=0;k&lt;N;k++)
    {
        for(l=0;l&lt;N;l++)
        {
            if(((k+l) == (i+j)) || ((k-l) == (i-j)))
            {
                if(board[k][l] == 1)
                    return 1;
            }
        }
    }
    return 0;
}

int N_queen(int n)
{
    int i,j;
    <b>//ha n=0, megoldást találtunk</b>
    if(n==0)
        return 1;
    for(i=0;i&lt;N;i++)
    {
        for(j=0;j&lt;N;j++)
        {
            /*<b>Ellenőrzés, hogy elhelyezhetünk-e ide egy királynőt vagy sem,
            ha a helyet megtámadják, akkor a királynő nem kerül elhelyezésre 
            ,vagy már foglalt</b>*/
            if((!is_attack(i,j)) &amp;&amp; (board[i][j]!=1))
            {
                board[i][j] = 1;
                //<b>Rekurzió</b>
                /*<b>A következő királynőt ezzel az 
                    elrendezéssel tudjuk elhelyezni, vagy nem</b>*/
                if(N_queen(n-1)==1)
                {
                    return 1;
                }
                board[i][j] = 0;
            }
        }
    }
    return 0;
}

int main()
{
    //<b>Az N értékének megadása</b>
    printf("Adja meg az N értékét NxN sakktábla esetén\n");
    scanf("%d",&amp;N);

    int i,j;
    //<b>Minden elem 0-ra állítása</b>
    for(i=0;i&lt;N;i++)
    {
        for(j=0;j&lt;N;j++)
        {
            board[i][j]=0;
        }
    }
    //<b>A függvény hívása</b>
    N_queen(N);
    //<b>A mátrix kiíratása</b>
    for(i=0;i&lt;N;i++)
    {
        for(j=0;j&lt;N;j++)
            printf("%d\t",board[i][j]);
        printf("\n");
    }
}
<br>
<a href="https://www.codesdope.com/blog/article/backtracking-explanation-and-n-queens-problem/" target="_blank">Forrás</a> 
                </code>
             </pre>
        </div>
      </div>
    </div>
  </div>


    <canvas id="canvas2"style="background: url(images/chessBoard.png)"></canvas>
    <input id="stepFrwd" type="submit" class="example_b" name="button" value="előrelépés"/>
    <input id="stepPrev" type="submit" class="example_b" name="button" value="visszalépés"/>
    <input id="startAnim" type="submit" class="example_b" name="button" value="start"/>
    <input id="resetAnim" type="submit" class="example_b" name="button" value="reset"/>

    <div class="example_b">
        <input type="range" min="1" max="10" value="3" class="slider" id="myRange">
      </div>

    </div>
</div>

    <script src="javaScript/2.feladat.js"></script>

    <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js" integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js" integrity="sha384-UO2eT0CpHqdSJQ6hJty5KVphtPhzWj9WO1clHTMGa3JDZwrnQq4sF86dIHNDz0W1" crossorigin="anonymous"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js" integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM" crossorigin="anonymous"></script>

</body>
</html>